# sulfoxide-gold

![Version: 1.22.1](https://img.shields.io/badge/Version-1.22.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 4.9.1](https://img.shields.io/badge/AppVersion-4.9.1-informational?style=flat-square)

Helm chart to deploy Nginx as external ingress for AtomiCloud's Infrastructure

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://kubernetes.github.io/ingress-nginx | ingress-nginx | 4.9.1 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| ingress-nginx | object | `{"commonLabels":{"<<":{"atomi.cloud/layer":"1","atomi.cloud/module":"core","atomi.cloud/platform":"sulfoxide","atomi.cloud/service":"gold"}},"controller":{"annotations":{"<<":{"atomi.cloud/layer":"1","atomi.cloud/module":"core","atomi.cloud/platform":"sulfoxide","atomi.cloud/service":"gold"}},"autoscaling":{"enabled":true,"maxReplicas":12,"minReplicas":3,"targetCPUUtilizationPercentage":75,"targetMemoryUtilizationPercentage":75},"config":{"enable-opentelemetry":"true","log-format-escape-json":"true","log-format-upstream":"{ \"time\": \"$time_iso8601\", \"remote_addr\": \"$proxy_protocol_addr\", \"x_forwarded_for\": \"$proxy_add_x_forwarded_for\", \"request_id\": \"$req_id\", \"request\": \"$request\", \"host\": \"$host\", \"hostname\": \"$hostname\", \"remote_user\": \"$remote_user\", \"bytes_sent\": $bytes_sent, \"request_time\": $request_time, \"status\": $status, \"vhost\": \"$host\", \"request_proto\": \"$server_protocol\", \"upstream_name\": \"$proxy_upstream_name\", \"upstream_add\": \"$upstream_addr\", \"upstream_status\": \"$upstream_status\", \"path\": \"$uri\", \"request_query\": \"$args\", \"request_length\": $request_length, \"duration\": $request_time, \"method\": \"$request_method\", \"http_referrer\": \"$http_referer\", \"http_user_agent\": \"$http_user_agent\", \"service_name\": \"$service_name\", \"service_port\": \"$server_port\", \"namespace\": \"$namespace\", \"ingress_name\": \"$ingress_name\" }","opentelemetry-config":"/etc/nginx/opentelemetry.toml","opentelemetry-operation-name":"HTTP $request_method $service_name $uri","opentelemetry-trust-incoming-span":"true","otel-max-export-batch-size":"512","otel-max-queuesize":"2048","otel-sampler":"AlwaysOn","otel-sampler-parent-based":"false","otel-sampler-ratio":"1.0","otel-schedule-delay-millis":"5000","otel-service-name":"nginx-proxy","otlp-collector-host":"entei-silicon-otlp-collector.sulfoxide.svc","otlp-collector-port":"4317"},"extraArgs":{"enable-ssl-passthrough":"true"},"labels":{"<<":{"atomi.cloud/layer":"1","atomi.cloud/module":"core","atomi.cloud/platform":"sulfoxide","atomi.cloud/service":"gold"}},"metrics":{"enabled":true,"serviceMonitor":{"enabled":true,"scrapeInterval":"60s"}},"opentelemetry":{"containerSecurityContext":{"allowPrivilegeEscalation":false},"enabled":true},"podAnnotations":{"<<":{"atomi.cloud/layer":"1","atomi.cloud/module":"core","atomi.cloud/platform":"sulfoxide","atomi.cloud/service":"gold"}},"podLabels":{"<<":{"atomi.cloud/layer":"1","atomi.cloud/module":"core","atomi.cloud/platform":"sulfoxide","atomi.cloud/service":"gold"}},"podSecurityContext":{"<<":{"fsGroup":1000,"runAsGroup":1000,"runAsNonRoot":true,"runAsUser":1000}},"resources":{"limits":{"cpu":4,"memory":"8Gi"},"requests":{"cpu":"100m","memory":"256Mi"}},"topologySpreadConstraints":[{"labelSelector":{"matchLabels":{"<<":{"atomi.cloud/layer":"1","atomi.cloud/module":"core","atomi.cloud/platform":"sulfoxide","atomi.cloud/service":"gold"}}},"maxSkew":1,"topologyKey":"topology.kubernetes.io/zone","whenUnsatisfiable":"ScheduleAnyway"}]},"podSecurityPolicy":{"<<":{"fsGroup":1000,"runAsGroup":1000,"runAsNonRoot":true,"runAsUser":1000}}}` | External Ingress Controller configuration. See [Nginx Helm Chart](https://kubernetes.github.io/ingress-nginx/deploy/) |
| podSecurityContext | object | `{"fsGroup":1000,"runAsGroup":1000,"runAsNonRoot":true,"runAsUser":1000}` | YAML Anchor for PodSecurityContext |
| securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true,"runAsGroup":3000,"runAsNonRoot":true,"runAsUser":1000}` | YAML Anchor for SecurityContext |
| serviceTree | object | `{"layer":"1","module":"core","platform":"sulfoxide","service":"gold"}` | AtomiCloud Service Tree. See [ServiceTree](https://atomicloud.larksuite.com/wiki/OkfJwTXGFiMJkrk6W3RuwRrZs64?theme=DARK&contentTheme=DARK#MHw5d76uDo2tBLx86cduFQMRsBb) |
| tags | object | `{"atomi.cloud/layer":"1","atomi.cloud/module":"core","atomi.cloud/platform":"sulfoxide","atomi.cloud/service":"gold"}` | Kubernetes labels and annotations, following Service Tree |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.1](https://github.com/norwoodj/helm-docs/releases/v1.11.1)